%%
%原作者：@ bilibili 野马也耶耶耶，由该程序运行得到的音乐最先在bilibili平台发布
%如果您觉得这个程序还算有趣，还请您三连支持一下我的视频 BV1qp4y1Y7Hv
%谢谢！――――――注释于2021.5.1
%%
%信息的传递：
%参数设置+简化的乐谱矩阵（便于输入与修改）――>
%（由参数进行运算转换）――>标准的乐谱矩阵――>
%（函数作用）――>音频矩阵――>
%（matlab的sound函数）――>人耳听到的声波
%%
clear sound;
fs=44100;%频率
dT=1/fs;%时间运算步长
tm=0.46;%时间参数：一个16分音符的时间长度，单位为s 
n=0;%基准音，n=0对应钢琴上的C4键，+1则为#C4，以此类推
%%
%以下的music1到music4为乐谱矩阵，按列区分功能：音高、持续时间、音强
%第一列为音高标号，指的是相对于基准音n的音高，举例：若矩阵某行的第一列数值为
%12，那么对应音高为n+12，如果此时n=0（对应钢琴上的C4），那么n+12即对应C5。
%第二列指x分音符，1/4就是四分音符，1/8就是八分音符，以此类推；根据输入的时间参
%数tm来最终确定这个音的持续时间。
%第三列为音强，也就是声波的振幅，默认是1。该列不常用，如果对音强没有特殊要求，
%读懂本程序后可自行去掉该列，以节省空间和减少运算次数。
%%
%1号小提琴乐谱
music1=[
   0 1 0; 
   0 1 0;
   18 1/4 0.8; 16 1/4 0.8; 14 1/4 1; 13 1/4 1;
   11 1/4 1; 9 1/4 1; 11 1/4 1; 13 1/4 1;%4
   14 1/4 1; 13 1/4 1; 11 1/4 1; 9 1/4 1;
   7 1/4 1; 6 1/4 1; 7 1/4 1; 4 1/4 1;
   2 1/8 1; 6 1/8 1; 9 1/8 1; 7 1/8 1; 6 1/8 1; 2 1/8 1; 6 1/8 1; 4 1/8 1;
   2 1/8 1; -1 1/8 1; 2 1/8 1; 9 1/8 1; 7 1/8 1; 11 1/8 1; 9 1/8 1; 7 1/8 1;%8
   6 1/8 1; 2 1/8 1; 4 1/8 1; 13 1/8 1; 14 1/8 1; 18 1/8 1; 21 1/8 1; 9 1/8 1;
   11 1/8 1; 7 1/8 1; 9 1/8 1; 6 1/8 1; 2 1/8 1; 14 1/8 1; 14 3/16 1; 13 1/16 1;
   14 1/16 1; 13 1/16 1; 14 1/16 1; 2 1/16 1; 1 1/16 1; 9 1/16 1; 4 1/16 1; 7 1/16 1; 2 1/16 1; 14 1/16 1; 13 1/16 1; 11 1/16 1; 13 1/16 1; 18 1/16 1; 21 1/16 1; 23 1/16 1;%11
   19 1/16 1; 18 1/16 1; 16 1/16 1; 19 1/16 1; 18 1/16 1; 16 1/16 1; 14 1/16 1; 13 1/16 1; 11 1/16 1; 9 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1;
   2 1/16 1; 4 1/16 1; 6 1/16 1; 7 1/16 1; 9 1/16 1; 4 1/16 1; 9 1/16 1; 7 1/16 1; 6 1/16 1; 11 1/16 1; 9 1/16 1; 7 1/16 1; 9 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1;
   2 1/16 1; -1 1/16 1; 11 1/16 1; 13 1/16 1; 14 1/16 1; 13 1/16 1; 11 1/16 1; 9 1/16 1 ;7 1/16 1; 6 1/16 1; 4 1/16 1; 11 1/16 1; 9 1/16 1; 11 1/16 1; 9 1/16 1; 7 1/16 1;%14
   6 1/8 1; 18 1/8 1; 16 1/4 1; 0 1/8 0; 14 1/8 1; 18 1/4 1;
   23 1/4 0.5; 21 1/4 0.5; 23 1/4 0.5; 25 1/4 0.5;
   26 1/8 0.4; 14 1/8 1; 13 1/4 1; 0 1/8 0; 11 1/8 1; 14 1/4 1;%17
   14 3/8 1; 14 1/8 1; 14 1/8 1; 19 1/8 1; 16 1/8 1; 21 1/8 1;
   21 1/16 1; 18 1/32 1; 19 1/32 1; 21 1/16 1; 18 1/32 1; 19 1/32 1; 21 1/32 1; 9 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 18 1/32 1; 19 1/32 1; 18 1/16 1; 14 1/32 1; 16 1/32 1; 18 1/16 1; 6 1/32 1; 7 1/32 1; 9 1/32 1; 11 1/32 1; 9 1/32 1; 7 1/32 1; 9 1/32 1; 6 1/32 1; 7 1/32 1; 9 1/32 1;%19
   7 1/16 1; 11 1/32 1; 9 1/32 1; 7 1/16 1; 6 1/32 1; 4 1/32 1; 6 1/32 1; 4 1/32 1; 2 1/32 1; 4 1/32 1; 6 1/32 1; 7 1/32 1; 9 1/32 1; 11 1/32 1; 7 1/16 1; 11 1/32 1; 9 1/32 1; 11 1/16 1; 13 1/32 1; 14 1/32 1; 9 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 18 1/32 1; 19 1/32 1; 21 1/32 1;
   18 1/16 1; 14 1/32 1; 16 1/32 1; 18 1/16 1; 16 1/32 1; 14 1/32 1; 16 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 18 1/32 1; 16 1/32 1; 14 1/32 1; 13 1/32 1; 14 1/16 1; 11 1/32 1; 13 1/32 1; 14 1/16 1; 2 1/32 1; 4 1/32 1; 6 1/32 1; 7 1/32 1; 6 1/32 1; 4 1/32 1; 6 1/32 1; 14 1/32 1; 13 1/32 1; 14 1/32 1;%21
   11 1/16 1; 14 1/32 1; 13 1/32 1; 11 1/16 1; 9 1/32 1; 7 1/32 1; 9 1/32 1; 7 1/32 1; 6 1/32 1; 7 1/32 1; 9 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 11 1/16 1; 14 1/32 1; 13 1/32 1; 14 1/16 1; 13 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 14 1/32 1; 13 1/32 1; 14 1/32 1; 11 1/32 1; 13 1/32 1;
   14 1/8 1; 0 1/8 0; 13 1/8 1; 0 1/8 0; 11 1/8 1; 0 1/8 0; 14 1/8 1; 0 1/8 0;%23
   2 1/8 1; 0 1/8 0; 2 1/8 1; 0 1/8 0; 2 1/8 1; 0 1/8 0; 4 1/8 1; 0 1/8 0;
   9 1/8 1; 0 1/8 0; 9 1/8 1; 0 1/8 0; 6 1/8 1; 0 1/8 0; 9 1/8 1; 0 1/8 0;%25
   7 1/8 1 ;0 1/8 0; 6 1/8 1; 0 1/8 0; 7 1/8 1; 0 1/8 0; 16 1/8 1; 0 1/8 0;
   18 1/16 1; 6 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1; 16 1/16 1; 18 1/16 1; 16 1/16 1; 14 1/16 1; 6 1/16 1; 2 1/16 1; 11 1/16 1; 9 1/16 1; -3 1/16 0.5; -5 1/16 0.5; -3 1/16 0.5;%27%%%%%%%%%27与28节有比较低的音，测试发现会有一定的失真，后续思考如何解决这个问题
   -1 1/16 1; 11 1/16 1; 13 1/16 1; 11 1/16 1; 9 1/16 1; -3 1/16 0.5; -5 1/16 0.5; -3 1/16 0.5; -1 1/16 1; 11 1/16 1; 9 1/16 1; 11 1/16 1; 13 1/16 1; 1 1/16 1; -1 1/16 1; 1 1/16 1;
   2 1/16 1; 14 1/16 1; 16 1/16 1; 14 1/16 1; 13 1/16 1; 1 1/16 1; 2 1/16 1; 1 1/16 1; -1 1/16 1; 11 1/16 1; 9 1/16 1; 11 1/16 1; 13 1/16 1; 1 1/16 1; 6 1/16 1; 4 1/16 1;
   2 1/16 1; 14 1/16 1; 16 1/16 1; 19 1/16 1; 18 1/16 1; 6 1/16 1; 9 1/16 1; 18 1/16 1; 14 1/16 1; 19 1/16 1; 18 1/16 1; 19 1/16 1; 16 1/16 1; 9 1/16 1; 7 1/16 1; 9 1/16 1;%30
   6 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 9 1/16 1; 9 1/16 1;
   7 1/16 1; 7 1/16 1; 7 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 11 1/16 1; 11 1/16 1; 9 1/16 1; 9 1/16 1; 16 1/16 1; 13 1/16 1;%32
   9 1/16 1; 18 1/16 1; 18 1/16 1; 18 1/16 1; 16 1/16 1; 16 1/16 1; 16 1/16 1; 16 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8;
   23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8; 23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 25 1/16 0.5; 13 1/16 1; 13 1/16 1; 13 1/16 1;%34
   14 1/16 1; 2 1/32 1; 4 1/32 1; 6 1/16 1; 2 1/16 1; 1 1/16 1; 13 1/32 1; 14 1/32 1; 16 1/16 1; 13 1/16 1; 14 1/16 1; -1 1/32 1; 1 1/32 1; 2 1/16 1; -1 1/16 1; 1 1/16 1; 9 1/32 1; 7 1/32 1; 6 1/16 1; 4 1/16 1;
   2 1/16 1; 7 1/32 1; 6 1/32 1; 4 1/16 1; 7 1/16 1; 6 1/16 1; 2 1/32 1; 4 1/32 1; 6 1/16 1; 9 1/16 1; 7 1/16 1; 11 1/32 1; 9 1/32 1; 7 1/16 1; 6 1/16 1; 4 1/16 1; 9 1/32 1; 7 1/32 1; 6 1/16 1; 4 1/16 1;%36
   6 1/16 1; 14 1/32 1; 13 1/32 1; 14 1/16 1; 6 1/16 1; 9 1/16 1; 9 1/32 1; 11 1/32 1; 13 1/16 1; 9 1/16 1; 6 1/16 1; 14 1/32 1; 16 1/32 1; 18 1/16 1; 14 1/16 1; 18 1/16 1; 18 1/32 1; 16 1/32 1; 14 1/16 1; 13 1/16 1;
   11 1/16 1; 11 1/32 1; 9 1/32 1; 11 1/16 1; 13 1/16 1; 14 1/16 1; 18 1/32 1; 16 1/32 1; 14 1/16 1; 18 1/16 1; 19 1/16 1; 14 1/32 1; 13 1/32 1; 11 1/16 1; 11 1/16 1; 9 1/16 1; 4 1/16 1; 9 1/16 1; 9 1/16 1;%38
   9 3/8 1; 9 1/8 1; 2 3/8 1; 9 1/8 1;
   7 1/4 1; 9 1/4 1; 7 1/8 1; 2 1/8 1; 2 3/16 1; 1 1/16 1;%40
   2 1/8 1; 14 1/8 1; 13 1/4 1; 11 1/4 1; 9 1/4 1;
   2 3/16 1; 4 1/16 1; 6 1/4 1; 11 1/4 1; 4 3/16 1; 4 1/16 1;%42
   6 3/16 1; 18 1/16 1; 18 1/16 1; 19 1/16 1; 18 1/16 1; 16 1/16 1; 14 3/16 1; 14 1/16 1; 14 1/16 1; 16 1/16 1; 14 1/16 1; 13 1/16 1;
   11 1/4 1; 14 1/4 1; 14 1/16 1; 12 1/16 1; 11 1/16 1; 12 1/16 1; 9 3/16 1; 9 1/16 1;%44
   9 3/16 1; 21 1/16 0.8; 21 1/16 0.8; 23 1/16 0.6; 21 1/16 0.8; 19 1/16 1; 18 3/16 1; 18 1/16 1; 18 1/16 1; 19 1/16 1; 18 1/16 1; 16 1/16 1;
   14 1/16 1; 12 1/16 1; 11 1/16 1; 12 1/16 1; 9 3/16 1; 9 1/16 1; 7 1/8 1; 14 1/8 1; 13 3/16 1; 13 1/16 1;%46
   14 1/8 1; 14 1/4 1; 13 1/4 1; 11 1/4 1; 9 1/8 1;
   9 1/8 1; 7 1/4 1; 6 1/8 1; 6 3/16 1; 4 1/16 1; 4 1/4 1;%48 
   6 1/8 1; 18 1/4 1; 16 1/8 1; 14 1/8 1; 26 1/4 0.4; 24 1/8 0.5;
   23 1/4 0.6; 26 1/8 0.4; 21 1/8 0.8; 23 1/4 0.6; 21 1/4 0.8;%50
   21 1/4 0.8; 9 3/16 1; 7 1/16 1; 6 1/4 1; 18 3/16 1; 16 1/16 1;
   14 3/8 1; 14 1/8 1; 14 1/4 1; 14 1/4 1;
   14 1/8 1; 2 1/8 1; 1 1/8 1; 13 1/8 1; 11 1/8 1; -1 1/8 0.8; -3 1/8 0.6; 9 1/8 1;%53
   7 1/8 1; 19 1/8 1; 18 1/8 1; 6 1/8 1; 4 1/8 1; 11 1/8 1; 4 1/8 1; 16 1/8 1;
   18 1/8 1; 6 1/8 1; 4 1/8 1; 16 1/8 1; 14 1/8 1; 2 1/8 1; 1 1/8 1; 13 1/8 1;
   11 1/8 1; 23 1/8 0.6; 21 1/8 0.8; 9 1/8 1; 7 3/16 1; 14 1/16 1; 9 1/8 1; 9 1/8 1;
   9 3/4 1; 0 1/4 0;%57
   
];

%%
%2号小提琴乐谱
music2=[
    0 1 0;
    0 1 0;
    0 1 0;
    0 1 0;%4
    18 1/4 0.8; 16 1/4 0.8; 14 1/4 1; 13 1/4 1;
    11 1/4 1; 9 1/4 1; 11 1/4 1; 13 1/4 1;
    14 1/4 1; 13 1/4 1; 11 1/4 1; 9 1/4 1;
    7 1/4 1; 6 1/4 1; 7 1/4 1; 4 1/4 1;%8
    2 1/8 1; 6 1/8 1; 9 1/8 1; 7 1/8 1; 6 1/8 1; 2 1/8 1; 6 1/8 1; 4 1/8 1;
    2 1/8 1; -1 1/8 1; 2 1/8 1; 9 1/8 1; 7 1/8 1; 11 1/8 1; 9 1/8 1; 7 1/8 1;
    6 1/8 1; 2 1/8 1; 4 1/8 1; 13 1/8 1; 14 1/8 1; 18 1/8 1; 21 1/8 1; 9 1/8 1;%11
    11 1/8 1; 7 1/8 1; 9 1/8 1; 6 1/8 1; 2 1/8 1; 14 1/8 1; 14 3/16 1; 13 1/16 1;
    14 1/16 1; 13 1/16 1; 14 1/16 1; 2 1/16 1; 1 1/16 1; 9 1/16 1; 4 1/16 1; 7 1/16 1; 2 1/16 1; 14 1/16 1; 13 1/16 1; 11 1/16 1; 13 1/16 1; 18 1/16 1; 21 1/16 1; 23 1/16 1;
    19 1/16 1; 18 1/16 1; 16 1/16 1; 19 1/16 1; 18 1/16 1; 16 1/16 1; 14 1/16 1; 13 1/16 1; 11 1/16 1; 9 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1;%14
    2 1/16 1; 4 1/16 1; 6 1/16 1; 7 1/16 1; 9 1/16 1; 4 1/16 1; 9 1/16 1; 7 1/16 1; 6 1/16 1; 11 1/16 1; 9 1/16 1; 7 1/16 1; 9 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1;
    2 1/16 1; -1 1/16 1; 11 1/16 1; 13 1/16 1; 14 1/16 1; 13 1/16 1; 11 1/16 1; 9 1/16 1 ;7 1/16 1; 6 1/16 1; 4 1/16 1; 11 1/16 1; 9 1/16 1; 11 1/16 1; 9 1/16 1; 7 1/16 1;
    6 1/8 1; 18 1/8 1; 16 1/4 1; 0 1/8 0; 14 1/8 1; 18 1/4 1;%17
    23 1/4 0.5; 21 1/4 0.5; 23 1/4 0.5; 25 1/4 0.5;
    26 1/8 0.4; 14 1/8 1; 13 1/4 1; 0 1/8 0; 11 1/8 1; 14 1/4 1;%19
    14 3/8 1; 14 1/8 1; 14 1/8 1; 19 1/8 1; 16 1/8 1; 21 1/8 1;
    21 1/16 1; 18 1/32 1; 19 1/32 1; 21 1/16 1; 18 1/32 1; 19 1/32 1; 21 1/32 1; 9 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 18 1/32 1; 19 1/32 1; 18 1/16 1; 14 1/32 1; 16 1/32 1; 18 1/16 1; 6 1/32 1; 7 1/32 1; 9 1/32 1; 11 1/32 1; 9 1/32 1; 7 1/32 1; 9 1/32 1; 6 1/32 1; 7 1/32 1; 9 1/32 1;%21
    7 1/16 1; 11 1/32 1; 9 1/32 1; 7 1/16 1; 6 1/32 1; 4 1/32 1; 6 1/32 1; 4 1/32 1; 2 1/32 1; 4 1/32 1; 6 1/32 1; 7 1/32 1; 9 1/32 1; 11 1/32 1; 7 1/16 1; 11 1/32 1; 9 1/32 1; 11 1/16 1; 13 1/32 1; 14 1/32 1; 9 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 18 1/32 1; 19 1/32 1; 21 1/32 1;
    18 1/16 1; 14 1/32 1; 16 1/32 1; 18 1/16 1; 16 1/32 1; 14 1/32 1; 16 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 18 1/32 1; 16 1/32 1; 14 1/32 1; 13 1/32 1; 14 1/16 1; 11 1/32 1; 13 1/32 1; 14 1/16 1; 2 1/32 1; 4 1/32 1; 6 1/32 1; 7 1/32 1; 6 1/32 1; 4 1/32 1; 6 1/32 1; 14 1/32 1; 13 1/32 1; 14 1/32 1;%23
    11 1/16 1; 14 1/32 1; 13 1/32 1; 11 1/16 1; 9 1/32 1; 7 1/32 1; 9 1/32 1; 7 1/32 1; 6 1/32 1; 7 1/32 1; 9 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 11 1/16 1; 14 1/32 1; 13 1/32 1; 14 1/16 1; 13 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 14 1/32 1; 13 1/32 1; 14 1/32 1; 11 1/32 1; 13 1/32 1;
    14 1/8 1; 0 1/8 0; 13 1/8 1; 0 1/8 0; 11 1/8 1; 0 1/8 0; 14 1/8 1; 0 1/8 0;%25
    2 1/8 1; 0 1/8 0; 2 1/8 1; 0 1/8 0; 2 1/8 1; 0 1/8 0; 4 1/8 1; 0 1/8 0;
    9 1/8 1; 0 1/8 0; 9 1/8 1; 0 1/8 0; 6 1/8 1; 0 1/8 0; 9 1/8 1; 0 1/8 0;%27
    7 1/8 1 ;0 1/8 0; 6 1/8 1; 0 1/8 0; 7 1/8 1; 0 1/8 0; 16 1/8 1; 0 1/8 0;
    18 1/16 1; 6 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1; 16 1/16 1; 18 1/16 1; 16 1/16 1; 14 1/16 1; 6 1/16 1; 2 1/16 1; 11 1/16 1; 9 1/16 1; -3 1/16 0.5; -5 1/16 0.5; -3 1/16 0.5;
    -1 1/16 1; 11 1/16 1; 13 1/16 1; 11 1/16 1; 9 1/16 1; -3 1/16 0.5; -5 1/16 0.5; -3 1/16 0.5; -1 1/16 1; 11 1/16 1; 9 1/16 1; 11 1/16 1; 13 1/16 1; 1 1/16 1; -1 1/16 1; 1 1/16 1;%30
    2 1/16 1; 14 1/16 1; 16 1/16 1; 14 1/16 1; 13 1/16 1; 1 1/16 1; 2 1/16 1; 1 1/16 1; -1 1/16 1; 11 1/16 1; 9 1/16 1; 11 1/16 1; 13 1/16 1; 1 1/16 1; 6 1/16 1; 4 1/16 1;
    2 1/16 1; 14 1/16 1; 16 1/16 1; 19 1/16 1; 18 1/16 1; 6 1/16 1; 9 1/16 1; 18 1/16 1; 14 1/16 1; 19 1/16 1; 18 1/16 1; 19 1/16 1; 16 1/16 1; 9 1/16 1; 7 1/16 1; 9 1/16 1;%32
    6 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 9 1/16 1; 9 1/16 1;
    7 1/16 1; 7 1/16 1; 7 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 11 1/16 1; 11 1/16 1; 9 1/16 1; 9 1/16 1; 16 1/16 1; 13 1/16 1;%34
    9 1/16 1; 18 1/16 1; 18 1/16 1; 18 1/16 1; 16 1/16 1; 16 1/16 1; 16 1/16 1; 16 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8;
    23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8; 23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 25 1/16 0.5; 13 1/16 1; 13 1/16 1; 13 1/16 1;%36
    14 1/16 1; 2 1/32 1; 4 1/32 1; 6 1/16 1; 2 1/16 1; 1 1/16 1; 13 1/32 1; 14 1/32 1; 16 1/16 1; 13 1/16 1; 14 1/16 1; -1 1/32 1; 1 1/32 1; 2 1/16 1; -1 1/16 1; 1 1/16 1; 9 1/32 1; 7 1/32 1; 6 1/16 1; 4 1/16 1;
    2 1/16 1; 7 1/32 1; 6 1/32 1; 4 1/16 1; 7 1/16 1; 6 1/16 1; 2 1/32 1; 4 1/32 1; 6 1/16 1; 9 1/16 1; 7 1/16 1; 11 1/32 1; 9 1/32 1; 7 1/16 1; 6 1/16 1; 4 1/16 1; 9 1/32 1; 7 1/32 1; 6 1/16 1; 4 1/16 1;%38
    6 1/16 1; 14 1/32 1; 13 1/32 1; 14 1/16 1; 6 1/16 1; 9 1/16 1; 9 1/32 1; 11 1/32 1; 13 1/16 1; 9 1/16 1; 6 1/16 1; 14 1/32 1; 16 1/32 1; 18 1/16 1; 14 1/16 1; 18 1/16 1; 18 1/32 1; 16 1/32 1; 14 1/16 1; 13 1/16 1;
    11 1/16 1; 11 1/32 1; 9 1/32 1; 11 1/16 1; 13 1/16 1; 14 1/16 1; 18 1/32 1; 16 1/32 1; 14 1/16 1; 18 1/16 1; 19 1/16 1; 14 1/32 1; 13 1/32 1; 11 1/16 1; 11 1/16 1; 9 1/16 1; 4 1/16 1; 9 1/16 1; 9 1/16 1;%40
    9 3/8 1; 9 1/8 1; 2 3/8 1; 9 1/8 1;
    7 1/4 1; 9 1/4 1; 7 1/8 1; 2 1/8 1; 2 3/16 1; 1 1/16 1;%42
    2 1/8 1; 14 1/8 1; 13 1/4 1; 11 1/4 1; 9 1/4 1;
    2 3/16 1; 4 1/16 1; 6 1/4 1; 11 1/4 1; 4 3/16 1; 4 1/16 1;%44
    6 3/16 1; 18 1/16 1; 18 1/16 1; 19 1/16 1; 18 1/16 1; 16 1/16 1; 14 3/16 1; 14 1/16 1; 14 1/16 1; 16 1/16 1; 14 1/16 1; 13 1/16 1;
    11 1/4 1; 14 1/4 1; 14 1/16 1; 12 1/16 1; 11 1/16 1; 12 1/16 1; 9 3/16 1; 9 1/16 1;%46
    9 3/16 1; 21 1/16 0.8; 21 1/16 0.8; 23 1/16 0.6; 21 1/16 0.8; 19 1/16 1; 18 3/16 1; 18 1/16 1; 18 1/16 1; 19 1/16 1; 18 1/16 1; 16 1/16 1;
    14 1/16 1; 12 1/16 1; 11 1/16 1; 12 1/16 1; 9 3/16 1; 9 1/16 1; 7 1/8 1; 14 1/8 1; 13 3/16 1; 13 1/16 1;%48
    14 1/8 1; 14 1/4 1; 13 1/4 1; 11 1/4 1; 9 1/8 1;
    9 1/8 1; 7 1/4 1; 6 1/8 1; 6 3/16 1; 4 1/16 1; 4 1/4 1;%50
    6 1/8 1; 18 1/4 1; 16 1/8 1; 14 1/8 1; 26 1/4 0.4; 24 1/8 0.5;
    23 1/4 0.6; 26 1/8 0.4; 21 1/8 0.8; 23 1/4 0.6; 21 1/4 0.8;
    21 1/4 0.8; 9 3/16 1; 7 1/16 1; 6 1/4 1; 18 3/16 1; 16 1/16 1;%53
    14 3/8 1; 14 1/8 1; 14 1/4 1; 14 1/4 1;
    14 1/8 1; 2 1/8 1; 1 1/8 1; 13 1/8 1; 11 1/8 1; -1 1/8 0.8; -3 1/8 0.6; 9 1/8 1;
    7 1/8 1; 19 1/8 1; 18 1/8 1; 6 1/8 1; 4 1/8 1; 11 1/8 1; 4 1/8 1; 16 1/8 1;
    18 3/4 1; 0 1/4 0;%57
    ];

%%
%中提琴乐谱
music3=[
    0 1 0;
    0 1 0;
    0 1 0;
    0 1 0;%4
    0 1 0;
    0 1 0;
    18 1/4 0.8; 16 1/4 0.8; 14 1/4 1; 13 1/4 1;
    11 1/4 1; 9 1/4 1; 11 1/4 1; 13 1/4 1;%8
    14 1/4 1; 13 1/4 1; 11 1/4 1; 9 1/4 1;
    7 1/4 1; 6 1/4 1; 7 1/4 1; 4 1/4 1;
    2 1/8 1; 6 1/8 1; 9 1/8 1; 7 1/8 1; 6 1/8 1; 2 1/8 1; 6 1/8 1; 4 1/8 1;%11
    2 1/8 1; -1 1/8 1; 2 1/8 1; 9 1/8 1; 7 1/8 1; 11 1/8 1; 9 1/8 1; 7 1/8 1;
    6 1/8 1; 2 1/8 1; 4 1/8 1; 13 1/8 1; 14 1/8 1; 18 1/8 1; 21 1/8 1; 9 1/8 1;
    11 1/8 1; 7 1/8 1; 9 1/8 1; 6 1/8 1; 2 1/8 1; 14 1/8 1; 14 3/16 1; 13 1/16 1;%14
    14 1/16 1; 13 1/16 1; 14 1/16 1; 2 1/16 1; 1 1/16 1; 9 1/16 1; 4 1/16 1; 7 1/16 1; 2 1/16 1; 14 1/16 1; 13 1/16 1; 11 1/16 1; 13 1/16 1; 18 1/16 1; 21 1/16 1; 23 1/16 1;
    19 1/16 1; 18 1/16 1; 16 1/16 1; 19 1/16 1; 18 1/16 1; 16 1/16 1; 14 1/16 1; 13 1/16 1; 11 1/16 1; 9 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1;
    2 1/16 1; 4 1/16 1; 6 1/16 1; 7 1/16 1; 9 1/16 1; 4 1/16 1; 9 1/16 1; 7 1/16 1; 6 1/16 1; 11 1/16 1; 9 1/16 1; 7 1/16 1; 9 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1;%17
    2 1/16 1; -1 1/16 1; 11 1/16 1; 13 1/16 1; 14 1/16 1; 13 1/16 1; 11 1/16 1; 9 1/16 1 ;7 1/16 1; 6 1/16 1; 4 1/16 1; 11 1/16 1; 9 1/16 1; 11 1/16 1; 9 1/16 1; 7 1/16 1;
    6 1/8 1; 18 1/8 1; 16 1/4 1; 0 1/8 0; 14 1/8 1; 18 1/4 1;%19
    23 1/4 0.5; 21 1/4 0.5; 23 1/4 0.5; 25 1/4 0.5;
    26 1/8 0.4; 14 1/8 1; 13 1/4 1; 0 1/8 0; 11 1/8 1; 14 1/4 1;%21
    14 3/8 1; 14 1/8 1; 14 1/8 1; 19 1/8 1; 16 1/8 1; 21 1/8 1;
    21 1/16 1; 18 1/32 1; 19 1/32 1; 21 1/16 1; 18 1/32 1; 19 1/32 1; 21 1/32 1; 9 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 18 1/32 1; 19 1/32 1; 18 1/16 1; 14 1/32 1; 16 1/32 1; 18 1/16 1; 6 1/32 1; 7 1/32 1; 9 1/32 1; 11 1/32 1; 9 1/32 1; 7 1/32 1; 9 1/32 1; 6 1/32 1; 7 1/32 1; 9 1/32 1;%23
    7 1/16 1; 11 1/32 1; 9 1/32 1; 7 1/16 1; 6 1/32 1; 4 1/32 1; 6 1/32 1; 4 1/32 1; 2 1/32 1; 4 1/32 1; 6 1/32 1; 7 1/32 1; 9 1/32 1; 11 1/32 1; 7 1/16 1; 11 1/32 1; 9 1/32 1; 11 1/16 1; 13 1/32 1; 14 1/32 1; 9 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 18 1/32 1; 19 1/32 1; 21 1/32 1;
    18 1/16 1; 14 1/32 1; 16 1/32 1; 18 1/16 1; 16 1/32 1; 14 1/32 1; 16 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 18 1/32 1; 16 1/32 1; 14 1/32 1; 13 1/32 1; 14 1/16 1; 11 1/32 1; 13 1/32 1; 14 1/16 1; 2 1/32 1; 4 1/32 1; 6 1/32 1; 7 1/32 1; 6 1/32 1; 4 1/32 1; 6 1/32 1; 14 1/32 1; 13 1/32 1; 14 1/32 1;%25
    11 1/16 1; 14 1/32 1; 13 1/32 1; 11 1/16 1; 9 1/32 1; 7 1/32 1; 9 1/32 1; 7 1/32 1; 6 1/32 1; 7 1/32 1; 9 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 11 1/16 1; 14 1/32 1; 13 1/32 1; 14 1/16 1; 13 1/32 1; 11 1/32 1; 13 1/32 1; 14 1/32 1; 16 1/32 1; 14 1/32 1; 13 1/32 1; 14 1/32 1; 11 1/32 1; 13 1/32 1;
    14 1/8 1; 0 1/8 0; 13 1/8 1; 0 1/8 0; 11 1/8 1; 0 1/8 0; 14 1/8 1; 0 1/8 0;%27
    2 1/8 1; 0 1/8 0; 2 1/8 1; 0 1/8 0; 2 1/8 1; 0 1/8 0; 4 1/8 1; 0 1/8 0;
    9 1/8 1; 0 1/8 0; 9 1/8 1; 0 1/8 0; 6 1/8 1; 0 1/8 0; 9 1/8 1; 0 1/8 0;
    7 1/8 1 ;0 1/8 0; 6 1/8 1; 0 1/8 0; 7 1/8 1; 0 1/8 0; 16 1/8 1; 0 1/8 0;%30
    18 1/16 1; 6 1/16 1; 7 1/16 1; 6 1/16 1; 4 1/16 1; 16 1/16 1; 18 1/16 1; 16 1/16 1; 14 1/16 1; 6 1/16 1; 2 1/16 1; 11 1/16 1; 9 1/16 1; 21 1/16 0.8; 19 1/16 1; 21 1/16 0.8;%31，中提琴从此开始不完全与小提琴相同
    23 1/16 0.6; 11 1/16 1; 13 1/16 1; 11 1/16 1; 9 1/16 1; 21 1/16 0.8; 19 1/16 1; 21 1/16 0.8; 23 1/16 0.6; 11 1/16 1; 9 1/16 1; 11 1/16 1; 13 1/16 1; 25 1/16 0.5; 23 1/16 0.6; 25 1/16 0.5;%32
    26 1/16 0.5; 14 1/16 1; 16 1/16 1; 14 1/16 1; 13 1/16 1; 25 1/16 0.5; 26 1/16 0.5; 25 1/16 0.5; 23 1/16 0.6; 11 1/16 1; 9 1/16 1; 11 1/16 1; 13 1/16 1; 1 1/16 1; 6 1/16 1; 4 1/16 1;
    2 1/16 1; 14 1/16 1; 16 1/16 1; 19 1/16 1; 18 1/16 1; 6 1/16 1; 9 1/16 1; 18 1/16 1; 14 1/16 1; 19 1/16 1; 18 1/16 1; 19 1/16 1; 16 1/16 1; 9 1/16 1; 7 1/16 1; 9 1/16 1;%34
    6 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 9 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 6 1/16 1; 9 1/16 1; 9 1/16 1;
    7 1/16 1; 7 1/16 1; 7 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 11 1/16 1; 11 1/16 1; 9 1/16 1; 9 1/16 1; 16 1/16 1; 13 1/16 1;%36
    9 1/16 1; 18 1/16 1; 18 1/16 1; 18 1/16 1; 16 1/16 1; 16 1/16 1; 16 1/16 1; 16 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 14 1/16 1; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8;
    23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8; 21 1/16 0.8; 23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 23 1/16 0.6; 25 1/16 0.5; 13 1/16 1; 13 1/16 1; 13 1/16 1;%38
    14 1/16 1; 2 1/32 1; 4 1/32 1; 6 1/16 1; 2 1/16 1; 1 1/16 1; 13 1/32 1; 14 1/32 1; 16 1/16 1; 13 1/16 1; 14 1/16 1; 11 1/32 1; 13 1/32 1; 14 1/16 1; 11 1/16 1; 13 1/16 1; 9 1/32 1; 7 1/32 1; 6 1/16 1; 4 1/16 1;
    2 1/16 1; 7 1/32 1; 6 1/32 1; 4 1/16 1; 7 1/16 1; 6 1/16 1; 2 1/32 1; 4 1/32 1; 6 1/16 1; 9 1/16 1; 7 1/16 1; 11 1/32 1; 9 1/32 1; 7 1/16 1; 6 1/16 1; 4 1/16 1; 9 1/32 1; 7 1/32 1; 6 1/16 1; 4 1/16 1;%40
    6 1/16 1; 14 1/32 1; 13 1/32 1; 14 1/16 1; 6 1/16 1; 9 1/16 1; 9 1/32 1; 11 1/32 1; 13 1/16 1; 9 1/16 1; 6 1/16 1; 14 1/32 1; 16 1/32 1; 18 1/16 1; 14 1/16 1; 18 1/16 1; 18 1/32 1; 16 1/32 1; 14 1/16 1; 13 1/16 1;
    11 1/16 1; 11 1/32 1; 9 1/32 1; 11 1/16 1; 13 1/16 1; 14 1/16 1; 18 1/32 1; 16 1/32 1; 14 1/16 1; 18 1/16 1; 19 1/16 1; 14 1/32 1; 13 1/32 1; 11 1/16 1; 11 1/16 1; 9 1/16 1; 4 1/16 1; 9 1/16 1; 9 1/16 1;%42
    9 3/8 1; 9 1/8 1; 2 3/8 1; 9 1/8 1;
    7 1/4 1; 9 1/4 1; 7 1/8 1; 2 1/8 1; 2 3/16 1; 1 1/16 1;%44
    2 1/8 1; 14 1/8 1; 13 1/4 1; 11 1/4 1; 9 1/4 1;
    2 3/16 1; 4 1/16 1; 6 1/4 1; 11 1/4 1; 4 3/16 1; 4 1/16 1;%46
    6 3/16 1; 18 1/16 1; 18 1/16 1; 19 1/16 1; 18 1/16 1; 16 1/16 1; 14 3/16 1; 14 1/16 1; 14 1/16 1; 16 1/16 1; 14 1/16 1; 13 1/16 1;
    11 1/4 1; 14 1/4 1; 14 1/16 1; 12 1/16 1; 11 1/16 1; 12 1/16 1; 9 3/16 1; 9 1/16 1;%48
    9 3/16 1; 21 1/16 0.8; 21 1/16 0.8; 23 1/16 0.6; 21 1/16 0.8; 19 1/16 1; 18 3/16 1; 18 1/16 1; 18 1/16 1; 19 1/16 1; 18 1/16 1; 16 1/16 1;
    14 1/16 1; 12 1/16 1; 11 1/16 1; 12 1/16 1; 9 3/16 1; 9 1/16 1; 7 1/8 1; 14 1/8 1; 13 3/16 1; 13 1/16 1;%50
    14 1/8 1; 14 1/4 1; 13 1/4 1; 11 1/4 1; 9 1/8 1;
    9 1/8 1; 7 1/4 1; 6 1/8 1; 6 3/16 1; 4 1/16 1; 4 1/4 1;
    6 1/8 1; 18 1/4 1; 16 1/8 1; 14 1/8 1; 26 1/4 0.4; 24 1/8 0.5;%53
    23 1/4 0.6; 26 1/8 0.4; 21 1/8 0.8; 23 1/4 0.6; 21 1/4 0.8;
    21 1/4 0.8; 9 3/16 1; 7 1/16 1; 6 1/4 1; 18 3/16 1; 16 1/16 1;
    14 3/8 1; 14 1/8 1; 14 1/4 1; 14 1/4 1;
    14 3/4 1; 0 1/4 0;%57
    
    
    ];

%%
%大提琴乐谱
%因为技术力不足，音调过低的话音色会很难听，所以我把大提琴升高了一个八度
music4=[
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%4
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%8
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;%11
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%14
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;%17
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;%19
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;%21
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;%23
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;%25
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;%27
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%30
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%32
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%34
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%36
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%38
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%40
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%42
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%44
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%46
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%48
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;%50
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;%53
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 1/4 1; -15 1/4 1; -13 1/4 1; -18 1/4 1;
    -17 1/4 1; -22 1/4 1; -17 1/4 1; -15 1/4 1;
    -10 3/4 1; 0 1/4 0;%57
    
    ];

%%
%下面将乐谱矩阵的第一列转换为可以输入音色函数的形式，也就是将音高转换为频率
%想了解转换公式可以自行上网查阅
music1(:,1)=440*power(2,(music1(:,1)+n-9)/12);
music2(:,1)=440*power(2,(music2(:,1)+n-9)/12);
music3(:,1)=440*power(2,(music3(:,1)+n-9)/12);
music4(:,1)=440*power(2,(music4(:,1)+n-9)/12);


%下面将music的第二列转换为可以输入音色函数的形式，即以秒为单位描述持续时间
%设定的时间参数tm是一个16分音符的持续时间
music1(:,2)=16*tm.*music1(:,2);
music2(:,2)=16*tm.*music2(:,2);
music3(:,2)=16*tm.*music3(:,2);
music4(:,2)=16*tm.*music4(:,2);

%%


%为了便于处理以及最后的加和，可以先将分矩阵尺寸统一。当然也可以不这么做，在最后
%加和前把尺寸较小的矩阵补零也是完全没问题的。
t_end=max([sum(music1(:,2));sum(music2(:,2));sum(music3(:,2));sum(music4(:,2))]);
L=length(0:dT:t_end);

%最终的合成声音矩阵为S（其意为Sound），其由4个乐谱分别生成的声音矩阵S1、S2、S3、
%S4合成，而每个声音分矩阵又分出2个左右声矩阵。左右声矩阵使用了不同的函数，使得
%声波幅值前面的上升速度不同，对人耳来说存在一定时间差，这种时间差可以塑造声音的
%立体感。在读懂了本程序后，如果感觉没必要使用双重声矩阵，可以自行修改以大幅度节
%省内存和减少运算次数。

%提前生成全零矩阵是为了预分配内存，提高速度，下面这些全零矩阵尺寸均为1*L
Sright1=zeros(1,L,'double');
Sleft1=zeros(1,L,'double');

Sright2=zeros(1,L,'double');
Sleft2=zeros(1,L,'double');

Sright3=zeros(1,L,'double');
Sleft3=zeros(1,L,'double');

Sright4=zeros(1,L,'double');
Sleft4=zeros(1,L,'double');

%%
%声波转换，将乐谱矩阵的信息送入函数，转换为音频矩阵

%得到各个乐谱矩阵的尺寸（仅需要行数），为下面进行声波转换做准备
%可以认为，乐谱矩阵的每一行代表了一个音符
[j1,~]=size(music1);
[j2,~]=size(music2);
[j3,~]=size(music3);
[j4,~]=size(music4);

%对乐谱1进行声波转换，a、b只起到辅助计数的作用
a=1;
b=0;
for i=1:j1
    %该循环的思路是，逐个处理乐谱中的音符，然后将得到的音频信息，存入分矩阵中，
    %这些音频信息收尾相接，最后得到一串完整地表达了乐谱信息的音频矩阵（左右分
    %矩阵）
   b=b+length( Canon_Vra(music1(i,1),music1(i,2),music1(i,3)) );
    Sright1(1,a:b)=Canon_Vra(music1(i,1),music1(i,2),music1(i,3));
    Sleft1(1,a:b)=Canon_Vla(music1(i,1),music1(i,2),music1(i,3));
    a=a+length( Canon_Vra(music1(i,1),music1(i,2),music1(i,3)) );
end
%之后用不到的矩阵就可以清理掉了
clear music1;

%对乐谱2进行声波转换，a、b只起到辅助计数的作用
a=1;
b=0;
for i=1:j2
   b=b+length( Canon_Vra(music2(i,1),music2(i,2),music2(i,3)) );
    Sright2(1,a:b)=Canon_Vla(music2(i,1),music2(i,2),music2(i,3));
    Sleft2(1,a:b)=Canon_Vra(music2(i,1),music2(i,2),music2(i,3));
    a=a+length( Canon_Vra(music2(i,1),music2(i,2),music2(i,3)) );
end
%之后用不到的矩阵就可以清理掉了
clear music2;

%对乐谱3进行声波转换，a、b只起到辅助计数的作用
a=1;
b=0;
for i=1:j3
   b=b+length( Canon_Vra(music3(i,1),music3(i,2),music3(i,3)) );
    Sright3(1,a:b)=Canon_Vra(music3(i,1),music3(i,2),music3(i,3));
    Sleft3(1,a:b)=Canon_Vla(music3(i,1),music3(i,2),music3(i,3));
    a=a+length( Canon_Vra(music3(i,1),music3(i,2),music3(i,3)) );
end
%之后用不到的矩阵就可以清理掉了
clear music3;

%对乐谱4进行声波转换，a、b只起到辅助计数的作用
a=1;
b=0;
for i=1:j4
   b=b+length( Canon_Vra(music4(i,1),music4(i,2),music4(i,3)) );
    Sright4(1,a:b)=Canon_Vla(music4(i,1),music4(i,2),music4(i,3));
    Sleft4(1,a:b)=Canon_Vra(music4(i,1),music4(i,2),music4(i,3));
    a=a+length( Canon_Vra(music4(i,1),music4(i,2),music4(i,3)) );
end
%之后用不到的矩阵就可以清理掉了
clear music4;

%%
%matlab的sound与soundsc需要的音频矩阵形式都是m*2形式，需要转置组合得到各乐谱
%music1~4所对应的双声道Sound矩阵S1~S4
S1=[Sleft1' Sright1'];

S2=[Sleft2' Sright2'];

S3=[Sleft3' Sright3'];

S4=[Sleft4' Sright4'];

%之后用不到的矩阵就可以清理掉了
clear Sleft1 Sright1 Sleft2 Sright2 Sleft3 Sright3 Sleft4 Sright4;

S=1.3*S1+S2+S3+1.5*S4;
%合理调配四个Sound矩阵的响度，比如这里我觉得大提琴Sound4声音太小了，所以
%乘了1.5。

%之后用不到的矩阵就可以清理掉了
clear S1 S2 S3 S4;

%使用sound函数也是完全可以的，这里用的是soundsc，相比sound，其在播放前会有一个
%比例缩放，如果你对自己加的音强不自信，可以用这个soudsc
soundsc(S,fs);